<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::MySQL::DatasetMethods</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      function popupCode(url) {
        window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
      }
      
      function toggleCode(id) {
        var code = document.getElementById(id)
      
        code.style.display = code.style.display != 'block' ? 'block' : 'none'
        return true
      }
      
      // Make codeblocks hidden by default
      document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          Sequel::MySQL::DatasetMethods
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../files/lib/sequel/adapters/shared/mysql_rb.html">lib/sequel/adapters/shared/mysql.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p><a href="Dataset.html">Dataset</a> methods shared by datasets that use <a
            href="../MySQL.html">MySQL</a> databases.</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-calc_found_rows">calc_found_rows</a></li>
              <li><a target="docwin" href="#method-i-complex_expression_sql_append">complex_expression_sql_append</a></li>
              <li><a target="docwin" href="#method-i-constant_sql_append">constant_sql_append</a></li>
              <li><a target="docwin" href="#method-i-delete_from">delete_from</a></li>
              <li><a target="docwin" href="#method-i-distinct">distinct</a></li>
              <li><a target="docwin" href="#method-i-explain">explain</a></li>
              <li><a target="docwin" href="#method-i-for_share">for_share</a></li>
              <li><a target="docwin" href="#method-i-full_text_search">full_text_search</a></li>
              <li><a target="docwin" href="#method-i-full_text_sql">full_text_sql</a></li>
              <li><a target="docwin" href="#method-i-insert_ignore">insert_ignore</a></li>
              <li><a target="docwin" href="#method-i-join_table">join_table</a></li>
              <li><a target="docwin" href="#method-i-join_type_sql">join_type_sql</a></li>
              <li><a target="docwin" href="#method-i-on_duplicate_key_update">on_duplicate_key_update</a></li>
              <li><a target="docwin" href="#method-i-quoted_identifier_append">quoted_identifier_append</a></li>
              <li><a target="docwin" href="#method-i-supports_derived_column_lists-3F">supports_derived_column_lists?</a></li>
              <li><a target="docwin" href="#method-i-supports_distinct_on-3F">supports_distinct_on?</a></li>
              <li><a target="docwin" href="#method-i-supports_group_rollup-3F">supports_group_rollup?</a></li>
              <li><a target="docwin" href="#method-i-supports_intersect_except-3F">supports_intersect_except?</a></li>
              <li><a target="docwin" href="#method-i-supports_limits_in_correlated_subqueries-3F">supports_limits_in_correlated_subqueries?</a></li>
              <li><a target="docwin" href="#method-i-supports_modifying_joins-3F">supports_modifying_joins?</a></li>
              <li><a target="docwin" href="#method-i-supports_ordered_distinct_on-3F">supports_ordered_distinct_on?</a></li>
              <li><a target="docwin" href="#method-i-supports_regexp-3F">supports_regexp?</a></li>
              <li><a target="docwin" href="#method-i-supports_timestamp_usecs-3F">supports_timestamp_usecs?</a></li>
              <li><a target="docwin" href="#method-i-update_ignore">update_ignore</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li><a target="docwin" href="../Dataset/Replace.html">Sequel::Dataset::Replace</a></li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>APOS</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::APOS</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>APOS_RE</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::APOS_RE</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BACKSLASH</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::BACKSLASH</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BACKSLASH_RE</td>
                    <td>=</td>
                    <td class='context-item-value'>/\\/.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BACKTICK</td>
                    <td>=</td>
                    <td class='context-item-value'>'`'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BACKTICK_RE</td>
                    <td>=</td>
                    <td class='context-item-value'>/`/.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BINARY</td>
                    <td>=</td>
                    <td class='context-item-value'>'BINARY '.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BLOB_START</td>
                    <td>=</td>
                    <td class='context-item-value'>"0x".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BOOL_FALSE</td>
                    <td>=</td>
                    <td class='context-item-value'>'0'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>BOOL_TRUE</td>
                    <td>=</td>
                    <td class='context-item-value'>'1'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>CAST_BITCOMP_CLOSE</td>
                    <td>=</td>
                    <td class='context-item-value'>" AS SIGNED INTEGER)".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>CAST_BITCOMP_OPEN</td>
                    <td>=</td>
                    <td class='context-item-value'>"CAST(~".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>COMMA</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::COMMA</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>COMMA_SEPARATOR</td>
                    <td>=</td>
                    <td class='context-item-value'>', '.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>CONCAT</td>
                    <td>=</td>
                    <td class='context-item-value'>"CONCAT".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>CURRENT_TIMESTAMP_56</td>
                    <td>=</td>
                    <td class='context-item-value'>'CURRENT_TIMESTAMP(6)'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>DOUBLE_APOS</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::DOUBLE_APOS</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>DOUBLE_BACKTICK</td>
                    <td>=</td>
                    <td class='context-item-value'>'``'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EMPTY_BLOB</td>
                    <td>=</td>
                    <td class='context-item-value'>"''".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EMPTY_COLUMNS</td>
                    <td>=</td>
                    <td class='context-item-value'>" ()".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EMPTY_VALUES</td>
                    <td>=</td>
                    <td class='context-item-value'>" VALUES ()".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EQ</td>
                    <td>=</td>
                    <td class='context-item-value'>'='.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EQ_VALUES</td>
                    <td>=</td>
                    <td class='context-item-value'>'=VALUES('.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>ESCAPE</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::ESCAPE</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EXPLAIN</td>
                    <td>=</td>
                    <td class='context-item-value'>'EXPLAIN '.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>EXPLAIN_EXTENDED</td>
                    <td>=</td>
                    <td class='context-item-value'>'EXPLAIN EXTENDED '.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>FOR_SHARE</td>
                    <td>=</td>
                    <td class='context-item-value'>' LOCK IN SHARE MODE'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>FROM</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::FROM</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>GROUP_BY</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::GROUP_BY</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>HSTAR</td>
                    <td>=</td>
                    <td class='context-item-value'>"H*".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>IGNORE</td>
                    <td>=</td>
                    <td class='context-item-value'>" IGNORE".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>LIKE</td>
                    <td>=</td>
                    <td class='context-item-value'>'LIKE'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>LIMIT</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::LIMIT</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>MATCH_AGAINST</td>
                    <td>=</td>
                    <td class='context-item-value'>["(MATCH ".freeze, " AGAINST (".freeze, "))".freeze].freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>MATCH_AGAINST_BOOLEAN</td>
                    <td>=</td>
                    <td class='context-item-value'>["(MATCH ".freeze, " AGAINST (".freeze, " IN BOOLEAN MODE))".freeze].freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NATURAL_LEFT_JOIN</td>
                    <td>=</td>
                    <td class='context-item-value'>'NATURAL LEFT JOIN'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NOT_SPACE</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::NOT_SPACE</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>ONLY_OFFSET</td>
                    <td>=</td>
                    <td class='context-item-value'>",18446744073709551615".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'>
                      
                      <p>Comes directly from MySQL&#39;s documentation, used for queries with limits
                      without offsets</p>
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>ON_DUPLICATE_KEY_UPDATE</td>
                    <td>=</td>
                    <td class='context-item-value'>" ON DUPLICATE KEY UPDATE ".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>PAREN_CLOSE</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::PAREN_CLOSE</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>PAREN_OPEN</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::PAREN_OPEN</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>QUAD_BACKSLASH</td>
                    <td>=</td>
                    <td class='context-item-value'>"\\\\\\\\".freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>REGEXP</td>
                    <td>=</td>
                    <td class='context-item-value'>'REGEXP'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>SPACE</td>
                    <td>=</td>
                    <td class='context-item-value'>Dataset::SPACE</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>SQL_CALC_FOUND_ROWS</td>
                    <td>=</td>
                    <td class='context-item-value'>' SQL_CALC_FOUND_ROWS'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>STRAIGHT_JOIN</td>
                    <td>=</td>
                    <td class='context-item-value'>'STRAIGHT_JOIN'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>WITH_ROLLUP</td>
                    <td>=</td>
                    <td class='context-item-value'>' WITH ROLLUP'.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-calc_found_rows'>
                <a name='method-i-calc_found_rows'></a>
                <div class='synopsis'>
                  <span class='name'>calc_found_rows</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Sets up the select methods to use <a
                  href="DatasetMethods.html#SQL_CALC_FOUND_ROWS">SQL_CALC_FOUND_ROWS</a>
                  option.</p>
                  
                  <pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">calc_found_rows</span>.<span class="ruby-identifier">limit</span>(<span class="ruby-value">10</span>)&#x000A;<span class="ruby-comment"># SELECT SQL_CALC_FOUND_ROWS * FROM table LIMIT 10</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-calc_found_rows-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-calc_found_rows-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 694</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">calc_found_rows</span>&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:calc_found_rows</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-complex_expression_sql_append'>
                <a name='method-i-complex_expression_sql_append'></a>
                <div class='synopsis'>
                  <span class='name'>complex_expression_sql_append</span>
                  <span class='arguments'>(sql, op, args)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> specific syntax for LIKE/REGEXP searches,
                  as well as string concatenation.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-complex_expression_sql_append-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-complex_expression_sql_append-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 634</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">complex_expression_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-keyword">case</span> <span class="ruby-identifier">op</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:IN</span>, <span class="ruby-value">:&quot;NOT IN&quot;</span>&#x000A;    <span class="ruby-identifier">ds</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">1</span>)&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Dataset</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">opts</span>[<span class="ruby-value">:limit</span>]&#x000A;      <span class="ruby-keyword">super</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">op</span>, [<span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>), <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">from_self</span>])&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-keyword">super</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:~</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:&#39;~*&#39;</span>, <span class="ruby-value">:&#39;!~*&#39;</span>, <span class="ruby-value">:LIKE</span>, <span class="ruby-value">:&#39;NOT LIKE&#39;</span>, <span class="ruby-value">:ILIKE</span>, <span class="ruby-value">:&#39;NOT ILIKE&#39;</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PAREN_OPEN</span>&#x000A;    <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>))&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">SPACE</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;NOT &#39;</span> <span class="ruby-keyword">if</span> [<span class="ruby-value">:&#39;NOT LIKE&#39;</span>, <span class="ruby-value">:&#39;NOT ILIKE&#39;</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:&#39;!~*&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>)&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> ([<span class="ruby-value">:~</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:&#39;~*&#39;</span>, <span class="ruby-value">:&#39;!~*&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">REGEXP</span> <span class="ruby-operator">:</span> <span class="ruby-constant">LIKE</span>)&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">SPACE</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">BINARY</span> <span class="ruby-keyword">if</span> [<span class="ruby-value">:~</span>, <span class="ruby-value">:&#39;!~&#39;</span>, <span class="ruby-value">:LIKE</span>, <span class="ruby-value">:&#39;NOT LIKE&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>)&#x000A;    <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">1</span>))&#x000A;    <span class="ruby-keyword">if</span> [<span class="ruby-value">:LIKE</span>, <span class="ruby-value">:&#39;NOT LIKE&#39;</span>, <span class="ruby-value">:ILIKE</span>, <span class="ruby-value">:&#39;NOT ILIKE&#39;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">op</span>)&#x000A;      <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">ESCAPE</span>&#x000A;      <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-constant">BACKSLASH</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PAREN_CLOSE</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:&#39;||&#39;</span>&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>&#x000A;      <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">CONCAT</span>&#x000A;      <span class="ruby-identifier">array_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>)&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>))&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:&#39;B~&#39;</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">CAST_BITCOMP_OPEN</span>&#x000A;    <span class="ruby-identifier">literal_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>))&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">CAST_BITCOMP_CLOSE</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-constant_sql_append'>
                <a name='method-i-constant_sql_append'></a>
                <div class='synopsis'>
                  <span class='name'>constant_sql_append</span>
                  <span class='arguments'>(sql, constant)</span>
                </div>
                <div class='description'>
                  
                  <p>MySQL&#39;s CURRENT_TIMESTAMP does not use fractional seconds, even if the
                  database itself supports fractional seconds. If <a
                  href="../MySQL.html">MySQL</a> 5.6.4+ is being used, use a value that will
                  return fractional seconds.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-constant_sql_append-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-constant_sql_append-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 677</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">constant_sql_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">constant</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">constant</span> <span class="ruby-operator">==</span> <span class="ruby-value">:CURRENT_TIMESTAMP</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">supports_timestamp_usecs?</span>&#x000A;    <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">CURRENT_TIMESTAMP_56</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-delete_from'>
                <a name='method-i-delete_from'></a>
                <div class='synopsis'>
                  <span class='name'>delete_from</span>
                  <span class='arguments'>(*tables)</span>
                </div>
                <div class='description'>
                  
                  <p>Sets up the select methods to delete from if deleting from a joined
                  dataset:</p>
                  
                  <pre class="ruby"><span class="ruby-constant">DB</span>[:<span class="ruby-identifier">a</span>].<span class="ruby-identifier">join</span>(:<span class="ruby-identifier">b</span>, :<span class="ruby-identifier">a_id=</span><span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">id</span>).<span class="ruby-identifier">delete</span>&#x000A;<span class="ruby-comment"># DELETE a FROM a INNER JOIN b ON (b.a_id = a.id)</span>&#x000A;&#x000A;<span class="ruby-constant">DB</span>[:<span class="ruby-identifier">a</span>].<span class="ruby-identifier">join</span>(:<span class="ruby-identifier">b</span>, :<span class="ruby-identifier">a_id=</span><span class="ruby-operator">&gt;</span>:<span class="ruby-identifier">id</span>).<span class="ruby-identifier">delete_from</span>(:<span class="ruby-identifier">a</span>, :<span class="ruby-identifier">b</span>).<span class="ruby-identifier">delete</span>&#x000A;<span class="ruby-comment"># DELETE a, b FROM a INNER JOIN b ON (b.a_id = a.id)</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-delete_from-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-delete_from-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 706</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete_from</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tables</span>)&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:delete_from=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">tables</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-distinct'>
                <a name='method-i-distinct'></a>
                <div class='synopsis'>
                  <span class='name'>distinct</span>
                  <span class='arguments'>(*args)</span>
                </div>
                <div class='description'>
                  
                  <p>Use GROUP BY instead of DISTINCT ON if arguments are provided.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-distinct-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-distinct-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 686</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">distinct</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">super</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">group</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-explain'>
                <a name='method-i-explain'></a>
                <div class='synopsis'>
                  <span class='name'>explain</span>
                  <span class='arguments'>(opts=OPTS)</span>
                </div>
                <div class='description'>
                  
                  <p>Return the results of an <a href="DatasetMethods.html#EXPLAIN">EXPLAIN</a>
                  query as a string. Options:</p>
                  <table class="rdoc-list note-list"><tbody><tr><td class='label'>:extended </td><td>
                  <p>Use <a href="DatasetMethods.html#EXPLAIN">EXPLAIN</a> EXPTENDED instead of
                  <a href="DatasetMethods.html#EXPLAIN">EXPLAIN</a> if true.</p>
                  </td></tr></tbody></table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-explain-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-explain-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 712</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">explain</span>(<span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;  <span class="ruby-comment"># Load the PrettyTable class, needed for explain output</span>&#x000A;  <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">extension</span>(<span class="ruby-value">:_pretty_table</span>) <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">PrettyTable</span>)&#x000A;&#x000A;  <span class="ruby-identifier">ds</span> = <span class="ruby-identifier">db</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:metadata_dataset</span>).<span class="ruby-identifier">with_sql</span>((<span class="ruby-identifier">opts</span>[<span class="ruby-value">:extended</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">EXPLAIN_EXTENDED</span> <span class="ruby-operator">:</span> <span class="ruby-constant">EXPLAIN</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">select_sql</span>).<span class="ruby-identifier">naked</span>&#x000A;  <span class="ruby-identifier">rows</span> = <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">all</span>&#x000A;  <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">PrettyTable</span>.<span class="ruby-identifier">string</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">columns</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-for_share'>
                <a name='method-i-for_share'></a>
                <div class='synopsis'>
                  <span class='name'>for_share</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Return a cloned dataset which will use LOCK IN SHARE MODE to lock returned
                  rows.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-for_share-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-for_share-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 722</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">for_share</span>&#x000A;  <span class="ruby-identifier">lock_style</span>(<span class="ruby-value">:share</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-full_text_search'>
                <a name='method-i-full_text_search'></a>
                <div class='synopsis'>
                  <span class='name'>full_text_search</span>
                  <span class='arguments'>(cols, terms, opts = OPTS)</span>
                </div>
                <div class='description'>
                  
                  <p>Adds full text filter</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-full_text_search-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-full_text_search-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 727</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">full_text_search</span>(<span class="ruby-identifier">cols</span>, <span class="ruby-identifier">terms</span>, <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OPTS</span>)&#x000A;  <span class="ruby-identifier">filter</span>(<span class="ruby-identifier">full_text_sql</span>(<span class="ruby-identifier">cols</span>, <span class="ruby-identifier">terms</span>, <span class="ruby-identifier">opts</span>))&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-full_text_sql'>
                <a name='method-i-full_text_sql'></a>
                <div class='synopsis'>
                  <span class='name'>full_text_sql</span>
                  <span class='arguments'>(cols, terms, opts = OPTS)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> specific full text search syntax.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-full_text_sql-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-full_text_sql-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 732</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">full_text_sql</span>(<span class="ruby-identifier">cols</span>, <span class="ruby-identifier">terms</span>, <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OPTS</span>)&#x000A;  <span class="ruby-identifier">terms</span> = <span class="ruby-identifier">terms</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">terms</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;  <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">PlaceholderLiteralString</span>.<span class="ruby-identifier">new</span>((<span class="ruby-identifier">opts</span>[<span class="ruby-value">:boolean</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">MATCH_AGAINST_BOOLEAN</span> <span class="ruby-operator">:</span> <span class="ruby-constant">MATCH_AGAINST</span>), [<span class="ruby-constant">Array</span>(<span class="ruby-identifier">cols</span>), <span class="ruby-identifier">terms</span>])&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-insert_ignore'>
                <a name='method-i-insert_ignore'></a>
                <div class='synopsis'>
                  <span class='name'>insert_ignore</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Sets up the insert methods to use INSERT <a
                  href="DatasetMethods.html#IGNORE">IGNORE</a>. Useful if you have a unique
                  key and want to just skip inserting rows that violate the unique key
                  restriction.</p>
                  
                  <pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">insert_ignore</span>.<span class="ruby-identifier">multi_insert</span>(&#x000A; [{:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;a&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, {:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;b&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT IGNORE INTO tablename (name, value) VALUES (a, 1), (b, 2)</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-insert_ignore-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-insert_ignore-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 766</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert_ignore</span>&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:insert_ignore=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-join_table'>
                <a name='method-i-join_table'></a>
                <div class='synopsis'>
                  <span class='name'>join_table</span>
                  <span class='arguments'>(type, table, expr=nil, opts=OPTS, &block)</span>
                </div>
                <div class='description'>
                  
                  <p>Transforms an CROSS JOIN to an INNER JOIN if the expr is not nil. Raises an
                  error on use of :full_outer type, since <a href="../MySQL.html">MySQL</a>
                  doesn&#39;t support it.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-join_table-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-join_table-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 739</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">join_table</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">table</span>, <span class="ruby-identifier">expr</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;  <span class="ruby-identifier">type</span> = <span class="ruby-value">:inner</span> <span class="ruby-keyword">if</span> (<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:cross</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">expr</span>.<span class="ruby-identifier">nil?</span>&#x000A;  <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;MySQL doesn&#39;t support FULL OUTER JOIN&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:full_outer</span>&#x000A;  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">table</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-join_type_sql'>
                <a name='method-i-join_type_sql'></a>
                <div class='synopsis'>
                  <span class='name'>join_type_sql</span>
                  <span class='arguments'>(join_type)</span>
                </div>
                <div class='description'>
                  
                  <p>Transforms :natural_inner to NATURAL LEFT JOIN and straight to <a
                  href="DatasetMethods.html#STRAIGHT_JOIN">STRAIGHT_JOIN</a>.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-join_type_sql-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-join_type_sql-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 747</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">join_type_sql</span>(<span class="ruby-identifier">join_type</span>)&#x000A;  <span class="ruby-keyword">case</span> <span class="ruby-identifier">join_type</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:straight</span>&#x000A;    <span class="ruby-constant">STRAIGHT_JOIN</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:natural_inner</span>&#x000A;    <span class="ruby-constant">NATURAL_LEFT_JOIN</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">super</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-on_duplicate_key_update'>
                <a name='method-i-on_duplicate_key_update'></a>
                <div class='synopsis'>
                  <span class='name'>on_duplicate_key_update</span>
                  <span class='arguments'>(*args)</span>
                </div>
                <div class='description'>
                  
                  <p>Sets up the insert methods to use ON DUPLICATE KEY UPDATE If you pass no
                  arguments, ALL fields will be updated with the new values.  If you pass the
                  fields you want then ONLY those field will be updated. If you pass a hash
                  you can customize the values (for example, to increment a numeric field).</p>
                  
                  <p>Useful if you have a unique key and want to update inserting rows that
                  violate the unique key restriction.</p>
                  
                  <pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">on_duplicate_key_update</span>.<span class="ruby-identifier">multi_insert</span>(&#x000A; [{:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;a&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, {:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;b&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT INTO tablename (name, value) VALUES (a, 1), (b, 2)</span>&#x000A;<span class="ruby-comment"># ON DUPLICATE KEY UPDATE name=VALUES(name), value=VALUES(value)</span>&#x000A;&#x000A;<span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">on_duplicate_key_update</span>(:<span class="ruby-identifier">value</span>).<span class="ruby-identifier">multi_insert</span>(&#x000A;  [{:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;a&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, {:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;b&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT INTO tablename (name, value) VALUES (a, 1), (b, 2)</span>&#x000A;<span class="ruby-comment"># ON DUPLICATE KEY UPDATE value=VALUES(value)</span>&#x000A;&#x000A;<span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">on_duplicate_key_update</span>(&#x000A;  :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">lit</span>(<span class="ruby-string">&#39;value + VALUES(value)&#39;</span>)&#x000A;).<span class="ruby-identifier">multi_insert</span>(&#x000A;  [{:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;a&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, {:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;b&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]&#x000A;)&#x000A;<span class="ruby-comment"># INSERT INTO tablename (name, value) VALUES (a, 1), (b, 2)</span>&#x000A;<span class="ruby-comment"># ON DUPLICATE KEY UPDATE value=value + VALUES(value)</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-on_duplicate_key_update-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-on_duplicate_key_update-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 799</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_duplicate_key_update</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:on_duplicate_key_update</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-quoted_identifier_append'>
                <a name='method-i-quoted_identifier_append'></a>
                <div class='synopsis'>
                  <span class='name'>quoted_identifier_append</span>
                  <span class='arguments'>(sql, c)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> uses the nonstandard ` (backtick) for
                  quoting identifiers.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-quoted_identifier_append-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-quoted_identifier_append-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 804</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">quoted_identifier_append</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">c</span>)&#x000A;  <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">BACKTICK</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-constant">BACKTICK_RE</span>, <span class="ruby-constant">DOUBLE_BACKTICK</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">BACKTICK</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_derived_column_lists-3F'>
                <a name='method-i-supports_derived_column_lists-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_derived_column_lists?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> does not support derived column lists</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_derived_column_lists-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_derived_column_lists-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 809</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_derived_column_lists?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_distinct_on-3F'>
                <a name='method-i-supports_distinct_on-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_distinct_on?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> can emulate DISTINCT ON with its
                  non-standard GROUP BY implementation, though the rows returned cannot be
                  made deterministic through ordering.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_distinct_on-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_distinct_on-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 815</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_distinct_on?</span>&#x000A;  <span class="ruby-keyword">true</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_group_rollup-3F'>
                <a name='method-i-supports_group_rollup-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_group_rollup?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> supports GROUP BY WITH ROLLUP (but not
                  CUBE)</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_group_rollup-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_group_rollup-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 820</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_group_rollup?</span>&#x000A;  <span class="ruby-keyword">true</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_intersect_except-3F'>
                <a name='method-i-supports_intersect_except-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_intersect_except?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> does not support INTERSECT or EXCEPT</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_intersect_except-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_intersect_except-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 825</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_intersect_except?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_limits_in_correlated_subqueries-3F'>
                <a name='method-i-supports_limits_in_correlated_subqueries-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_limits_in_correlated_subqueries?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> does not support limits in correlated
                  subqueries (or any subqueries that use IN).</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_limits_in_correlated_subqueries-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_limits_in_correlated_subqueries-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 830</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_limits_in_correlated_subqueries?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_modifying_joins-3F'>
                <a name='method-i-supports_modifying_joins-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_modifying_joins?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> supports modifying joined datasets</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_modifying_joins-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_modifying_joins-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 835</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_modifying_joins?</span>&#x000A;  <span class="ruby-keyword">true</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_ordered_distinct_on-3F'>
                <a name='method-i-supports_ordered_distinct_on-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_ordered_distinct_on?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>MySQL&#39;s DISTINCT ON emulation using GROUP BY does not respect the
                  queries ORDER BY clause.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_ordered_distinct_on-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_ordered_distinct_on-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 841</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_ordered_distinct_on?</span>&#x000A;  <span class="ruby-keyword">false</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_regexp-3F'>
                <a name='method-i-supports_regexp-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_regexp?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> supports pattern matching via regular
                  expressions</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_regexp-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_regexp-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 846</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_regexp?</span>&#x000A;  <span class="ruby-keyword">true</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-supports_timestamp_usecs-3F'>
                <a name='method-i-supports_timestamp_usecs-3F'></a>
                <div class='synopsis'>
                  <span class='name'>supports_timestamp_usecs?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../MySQL.html">MySQL</a> does support fractional timestamps in
                  literal timestamps, but it ignores them.  Also, using them seems to cause
                  problems on 1.9.  Since they are ignored anyway, not using them is probably
                  best.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-supports_timestamp_usecs-3F-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-supports_timestamp_usecs-3F-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 853</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_timestamp_usecs?</span>&#x000A;  <span class="ruby-identifier">db</span>.<span class="ruby-identifier">supports_timestamp_usecs?</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-update_ignore'>
                <a name='method-i-update_ignore'></a>
                <div class='synopsis'>
                  <span class='name'>update_ignore</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Sets up the update methods to use UPDATE <a
                  href="DatasetMethods.html#IGNORE">IGNORE</a>. Useful if you have a unique
                  key and want to just skip updating rows that violate the unique key
                  restriction.</p>
                  
                  <pre class="ruby"><span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">update_ignore</span>.<span class="ruby-identifier">update</span>({:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;a&#39;</span>, :<span class="ruby-identifier">value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>})&#x000A;<span class="ruby-comment"># UPDATE IGNORE tablename SET name = &#39;a&#39;, value = 1</span></pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-update_ignore-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-update_ignore-source'><span class="ruby-comment"># File lib/sequel/adapters/shared/mysql.rb, line 863</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_ignore</span>&#x000A;  <span class="ruby-identifier">clone</span>(<span class="ruby-value">:update_ignore=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
    </div>
  </body>
</html>
